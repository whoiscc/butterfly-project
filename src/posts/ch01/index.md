# 第一章 - 常量

常量不会随着外界环境的变化而变化。就像$f(x) = 42$不会随着$x$的变化而变化一样。

<div id="box"></div>

{% include_code index.js 3:21 %}

正如前言中所说，Butterfly是一种范式，一种设计模式。我使用了[Kefir]和[ReactDOM]配合实现这些文章中的代码，而你可以换成任何类似的框架。就目前而言没有必要为Butterfly创建一个代码库，也许在后面的文章中我会将一些通用的工具函数封装起来。

[Kefir]: https://kefirjs.github.io/kefir/
[ReactDOM]: https://reactjs.org/docs/react-dom.html

Butterfly的所有代码都是以函数的形式（而非对象）进行封装，并且除了`main`函数以外全部都是纯函数。这些纯函数均接受一个`context`变量为参数，并返回一条信号流或是属性流。作为一种方便的命名规范，凡是只在离散的时间点上具有值的流被称为信号流，返回它的函数名字以`Signal`结尾；凡是每时每刻都有值得流被称为属性流，或简称为「流」，返回它的函数名字以`Stream`结尾。另外，如果一条属性流的值是页面元素，那么函数名字以`ViewStream`结尾。

> 我想不出值是页面元素的信号流有什么现实意义。

在所有的文章中，文内的代码都是页面实际执行的代码，其中的`main`函数会在页面加载完成后被调用。

在上面这个简单的例子中，`mainViewStream`并没有使用`context`参数，调用它时也只是传了一个空对象进去。在这里`context`的存在只是为了遵循规范的形式，它会在接下来的例子中逐渐发挥作用。
